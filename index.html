<!DOCTYPE html> 
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Introduction to Gradient Descent</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #ffffff;
            font-size: 150%;
        }
        section {
            margin-bottom: 20px;
            padding: 20px;
            background-color: #ffffff;
            display: none;
            opacity: 0;
            transition: opacity 0.5s ease-in;
        }
        h1, h2, h3, h4 {
            color: #333;
            margin-top: 20px;
        }
        p, li {
            line-height: 1.6;
            color: #444;
            margin-bottom: 20px;
        }
        ul {
            padding-left: 20px;
        }
        ul.no-bullets {
            list-style-type: none; /* Remove bullets */
            padding: 0; /* Remove padding */
            margin: 0; /* Remove margins */
        }
        .image-placeholder, .interactive-placeholder, .continue-button, .vocab-section, .why-it-matters, .test-your-knowledge, .faq-section, .stop-and-think {
            text-align: left;
        }
        .image-placeholder img, .interactive-placeholder img {
            max-width: 100%;
            height: auto;
            border-radius: 5px;
        }
        .vocab-section, .why-it-matters, .test-your-knowledge, .faq-section, .stop-and-think {
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
        }
        .vocab-section {
            background-color: #f0f8ff;
        }
        .vocab-section h3 {
            color: #1e90ff;
            font-size: 0.75em;
            margin-bottom: 5px;
            margin-top: 5px;
        }
        .vocab-section h4 {
            color: #000;
            font-size: 0.9em;
            margin-top: 10px;
            margin-bottom: 8px;
        }
        .vocab-term {
            font-weight: bold;
            color: #1e90ff;
        }
        .why-it-matters {
            background-color: #ffe6f0;
        }
        .why-it-matters h3 {
            color: #d81b60;
            font-size: 0.75em;
            margin-bottom: 5px;
            margin-top: 5px;
        }
        .stop-and-think {
            background-color: #e6e6ff;
        }
        .stop-and-think h3 {
            color: #4b0082;
            font-size: 0.75em;
            margin-bottom: 5px;
            margin-top: 5px;
        }
        .continue-button {
            display: inline-block;
            padding: 10px 20px;
            margin-top: 15px;
            color: #ffffff;
            background-color: #007bff;
            border-radius: 5px;
            text-decoration: none;
            cursor: pointer;
        }
        .reveal-button {
            display: inline-block;
            padding: 10px 20px;
            margin-top: 15px;
            color: #ffffff;
            background-color: #4b0082;
            border-radius: 5px;
            text-decoration: none;
            cursor: pointer;
        }
        .test-your-knowledge {
            background-color: #e6ffe6; /* Light green background */
        }
        .test-your-knowledge h3 {
            color: #28a745; /* Dark green heading */
            font-size: 0.75em;
            margin-bottom: 5px;
            margin-top: 5px;
        }
        .test-your-knowledge h4 {
            color: #000;
            font-size: 0.9em;
            margin-top: 10px;
            margin-bottom: 8px;
        }
        .test-your-knowledge p {
            margin-bottom: 15px;
        }
        .check-button {
            display: inline-block;
            padding: 10px 20px;
            margin-top: 15px;
            color: #ffffff;
            background-color: #28a745; /* Green background */
            border-radius: 5px;
            text-decoration: none;
            cursor: pointer;
            border: none;
            font-size: 1em;
        }
        .faq-section {
            background-color: #fffbea; /* Light yellow background */
        }
        .faq-section h3 {
            color: #ffcc00; /* Bright yellow heading */
            font-size: 0.75em;
            margin-bottom: 5px;
            margin-top: 5px;
        }
        .faq-section h4 {
            color: #000;
            font-size: 0.9em;
            margin-top: 10px;
            margin-bottom: 8px;
        }
    </style>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
    <section id="section1">
        <div class="image-placeholder">
            <img src="/images/mountain_descent.png" alt="Image of a person carefully descending a mountain, representing the iterative process of Gradient Descent.">
        </div>
        <h1>Finding the Lowest Point: An Introduction to Gradient Descent</h1>
        <p>Imagine you're standing on a mountainside in dense fog. You can only see a few feet in front of you, but your goal is to reach the bottom of the valley. How would you do it? A sensible strategy would be to feel the ground around you and take a step in the direction of the steepest descent. Keep repeating this process, and eventually, you'll reach the valley floor.</p>
        <div class="continue-button" onclick="showNextSection(2, event)">Continue</div>
    </section>

    <section id="section2">
        <p>This "feel and step" approach is analogous to how Gradient Descent works. In Machine Learning, we often deal with complex problems where we need to find the "lowest point" of a function. This lowest point represents the optimal solution to our problem. This function we're trying to minimize is called the <strong>cost function</strong>, and it measures how "bad" our current solution is.</p>
        <div class="continue-button" onclick="showNextSection(3, event)">Continue</div>
    </section>

    <section id="section3">
        <div class="vocab-section">
            <h3>Build Your Vocab</h3>
            <h4 class="vocab-term">Cost Function</h4>
            <p>A function that measures the error of a machine learning model's predictions. The goal of Gradient Descent is to minimize the cost function.</p>
        </div>
        <div class="continue-button" onclick="showNextSection(4, event)">Continue</div>
    </section>

    <section id="section4">
        <div class="why-it-matters">
            <h3>Why It Matters</h3>
            <p>Gradient Descent is the engine behind many machine learning models. It's the process that allows models to learn from data and improve their predictions. Without Gradient Descent, training complex models like neural networks would be practically impossible. Applications range from image recognition to natural language processing and beyond.</p>
        </div>
        <div class="continue-button" onclick="showNextSection(5, event)">Continue</div>
    </section>

    <section id="section5">
        <h3>The Math Behind the Descent</h3>
        <p>Let's formalize this intuitive idea with a bit of math. Don't worry; we'll break it down step by step. The key to finding the steepest descent lies in the concept of a <strong>gradient</strong>. The gradient of a function at a particular point tells us the direction of the steepest increase. Since we want to go downhill, we'll move in the opposite direction of the gradient.</p>
        <div class="continue-button" onclick="showNextSection(6, event)">Continue</div>
    </section>

    <section id="section6">
        <p>Think of a simple function like \(y = x^2\). Its derivative is \(\frac{dy}{dx} = 2x\). The derivative at a point \(x\) gives us the slope of the function at that point, which indicates the direction of the steepest ascent.</p>
        <div style="margin-bottom: 20px;">
    <p>Click on any point on the curve \(y = x^2\) to see the tangent line at that point. The slope and tangent line update dynamically!</p>
</div>
<div id="interactive-plot" style="width: 100%; height: 500px;"></div>
<div style="margin-top: 20px; background-color: #f0f0f0; padding: 15px; border-radius: 8px; text-align: center; width: 50%; margin-left: auto; margin-right: auto;">
    <p><strong>x:</strong> <span id="selected-x">0.00</span></p>
    <p><strong>y:</strong> <span id="selected-y">0.00</span></p>
    <p><strong>Slope:</strong> <span id="selected-slope">0.00</span></p>
</div>
<script src="https://cdn.plot.ly/plotly-2.24.2.min.js"></script>
<script>
    // Generate data for the parabola y = x^2
    const xValues = Array.from({ length: 101 }, (_, i) => -5 + 0.1 * i); // x from -5 to 5
    const yValues = xValues.map(x => x ** 2); // y = x^2

    // Function to calculate the tangent line data at a given point
    const calculateTangent = (x) => {
        const slope = 2 * x;
        const y = x ** 2;
        return {
            x,
            y,
            slope,
            tangentLine: xValues.map((xi) => y + slope * (xi - x)), // Tangent line formula
        };
    };

    // Initial tangent point
    let tangentPoint = 0;
    let tangentData = calculateTangent(tangentPoint);

    // Data for the parabola
    const parabola = {
        x: xValues,
        y: yValues,
        type: 'scatter',
        mode: 'lines',
        name: 'y = x^2',
        line: { color: '#1e90ff', width: 4 }, // Nice blue line
    };

    // Data for the tangent line
    const tangentLine = {
        x: xValues,
        y: tangentData.tangentLine,
        type: 'scatter',
        mode: 'lines',
        name: `Tangent Line at x = ${tangentPoint}`,
        line: { dash: 'dash', color: '#4b0082', width: 3 }, // Indigo dashed line
    };

    // Marker for the selected point
    const tangentPointMarker = {
        x: [tangentData.x],
        y: [tangentData.y],
        mode: 'markers+text',
        text: [`Slope: ${tangentData.slope.toFixed(2)}`],
        textposition: 'top center',
        name: 'Selected Point',
        marker: { color: '#d81b60', size: 12, symbol: 'circle' }, // Pink circle marker
    };

    // Layout configuration
    const layout = {
        xaxis: { title: 'x', range: [-5, 5], showgrid: false, zeroline: true },
        yaxis: { title: 'y', range: [0, 30], showgrid: false, zeroline: true },
        plot_bgcolor: '#f0f8ff', // Light blue background
        paper_bgcolor: '#ffffff', // White surrounding area
        showlegend: false, // Hides legend for cleaner look
        margin: { t: 0, r: 0, l: 40, b: 40 }, // Adjusted margins
    };

    const config = {
        responsive: true,
        displayModeBar: false, // Hides Plotly's menu
        staticPlot: false, // Allows clicking on the graph
    };

    // Plot the graph
    Plotly.newPlot('interactive-plot', [parabola, tangentLine, tangentPointMarker], layout, config);

    // Add interactivity for clicking to select a point
    const interactivePlot = document.getElementById('interactive-plot');
    interactivePlot.on('plotly_click', (event) => {
        if (event.points.length > 0) {
            // Get the x-coordinate of the clicked point
            const selectedX = event.points[0].x;

            // Update the tangent data
            tangentData = calculateTangent(selectedX);

            // Update the plot with the new tangent line and marker
            const updatedTangentLine = {
                x: xValues,
                y: tangentData.tangentLine,
                mode: 'lines',
                line: { dash: 'dash', color: '#4b0082', width: 3 },
                name: `Tangent Line at x = ${selectedX.toFixed(2)}`,
            };

            const updatedTangentPointMarker = {
                x: [tangentData.x],
                y: [tangentData.y],
                mode: 'markers+text',
                text: [`Slope: ${tangentData.slope.toFixed(2)}`],
                textposition: 'top center',
                marker: { color: '#d81b60', size: 12, symbol: 'circle' },
                name: 'Selected Point',
            };

            // Update the graph
            Plotly.react('interactive-plot', [parabola, updatedTangentLine, updatedTangentPointMarker], layout, config);

            // Update the numerical display below the graph
            document.getElementById('selected-x').innerText = selectedX.toFixed(2);
            document.getElementById('selected-y').innerText = tangentData.y.toFixed(2);
            document.getElementById('selected-slope').innerText = tangentData.slope.toFixed(2);
        }
    });
</script>


        <p>In Gradient Descent, we use this slope information to update our current guess. We take a step proportional to the negative of the gradient. The size of this step is controlled by a parameter called the <strong>learning rate</strong> (\(\alpha\)), a small positive number.</p>
        <div class="continue-button" onclick="showNextSection(7, event)">Continue</div> 
    </section>

    <section id="section7">
        <p>The core update rule of Gradient Descent is:</p>
        <p>\[ \beta_{\text{new}} = \beta_{\text{old}} - \alpha \cdot \nabla C(\beta_{\text{old}}) \]</p>
        <p>Let's break down this formula, where:</p>
        <ul>
            <li>\(\beta_{\text{old}}\) is our current guess for the optimal solution. Think of this as your current position on the mountain.</li>
            <li>\(\alpha\) is the learning rate. This determines how big a step we take. A smaller learning rate means smaller steps, while a larger learning rate means bigger steps.</li>
            <li>\(\nabla C(\beta_{\text{old}})\) is the gradient of the cost function (\(C\)) at our current guess (\(\beta_{\text{old}}\)). This tells us the direction of the steepest increase in the cost function. The negative sign ensures we move in the direction of decreasing cost.</li>
            <li>\(\beta_{\text{new}}\) is our updated guess after taking a step. This is your new position after taking a step downhill.</li>
        </ul>
        <div class="continue-button" onclick="showNextSection(8, event)">Continue</div>
    </section>

    <section id="section8">
        <div class="vocab-section">
            <h3>Build Your Vocab</h3>
            <h4 class="vocab-term">Gradient</h4>
            <p>The vector of partial derivatives of a function. It points in the direction of the greatest rate of increase of the function.</p>
            <h4 class="vocab-term">Learning Rate</h4>
            <p>A hyperparameter that controls the step size during Gradient Descent.</p>
            <h4 class="vocab-term">Derivative</h4>
            <p>A measure of how a function changes as its input changes. It represents the slope of the function at a point.</p>
        </div>
        <div class="continue-button" onclick="showNextSection(9, event)">Continue</div>
    </section>

    <section id="section9">
        <div class="stop-and-think">
            <h3>Stop and Think</h3>
            <h4>If the learning rate (\(\alpha\)) is too large, what could happen during the Gradient Descent process? What if it's too small?</h4>
            <button class="reveal-button" onclick="revealAnswer('stop-and-think-1', event)">Reveal</button>
            <p id="stop-and-think-1" style="display: none;">If the learning rate is too large, the algorithm might overshoot the minimum and fail to converge or even diverge. It's like taking overly large steps and missing the valley floor entirely. If the learning rate is too small, the algorithm may take an excessively long time to converge or get stuck in regions where progress is minimal, similar to taking tiny steps and making very slow progress down the mountain.</p>
        </div>
        <div class="continue-button" onclick="showNextSection(10, event)">Continue</div>
    </section>

    <section id="section10">
        <h3>Bringing it Together: An Example</h3>
        <p>Let's say our cost function is \(C(\beta) = (\beta - 2)^2\), and our current guess is \(\beta_{\text{old}} = 4\). We'll use a learning rate of \(\alpha = 0.1\).</p>
        <ol>
            <li><strong>Calculate the gradient:</strong><p> \(\nabla C(\beta_{\text{old}}) = 2(\beta_{\text{old}} - 2) = 2(4 - 2) = 4\)</p></li>
            <li><strong>Update the guess:</strong>
                <p>\( \beta_{\text{new}} = \beta_{\text{old}} - \alpha \cdot \nabla C(\beta_{\text{old}}) \)</p>
                <p>\( \beta_{\text{new}} = 4 - 0.1 \times 4 = 3.6 \)</p>
            </li>
        </ol>
        <p>Our updated guess is now 3.6. We repeat this process until the changes in \(\beta\) become negligible, indicating that we've reached close to the minimum at \(\beta = 2\).</p>
        <div class="test-your-knowledge">
            <h3>Test Your Knowledge</h3>
            <h4>If the cost function is \(C(\beta) = (\beta - 5)^2 \) and the current guess is \(\beta = 8 \) with a learning rate of 0.2, what is the new value of \(\beta\) after one Gradient Descent update?</h4>
            <button class="check-button" onclick="revealAnswer('test-your-knowledge-1', event)">Reveal</button>
            <div id="test-your-knowledge-1" style="display: none;">
    <p><strong>Answer:</strong> 6.8</p>
    <p><strong>Explanation:</strong> 
        <ul>
            <li>Calculate the gradient: \(\nabla C(8) = 2(8 - 5) = 6\)</li>
            <li>Update \(\beta\): \( \beta_{\text{new}} = 8 - 0.2 \times 6 = 8 - 1.2 = 6.8 \)</li>
        </ul>
    </p>
</div>

        </div>
        <div class="continue-button" onclick="showNextSection(11, event)">Continue</div>
    </section>

    <section id="section11">
        <div class="faq-section">
            <h3>Frequently Asked Questions</h3>
            <h4>Does Gradient Descent always find the absolute minimum?</h4>
            <p>Not necessarily. Gradient Descent can get stuck in local minima, especially in complex functions with multiple minima. We'll discuss strategies to address this in a later lesson.</p>
        </div>
        <div class="continue-button" onclick="showNextSection(12, event)">Continue</div>
    </section>

    <section id="section12">
        <h3>Review and Reflect</h3>
        <p>In this lesson, we explored the fundamental concepts of Gradient Descent. We learned how it uses the gradient of a cost function to iteratively find the minimum, much like navigating down a mountain in fog. We also delved into the math behind the update rule and saw a simple example of how it works in practice.</p>
        <div class="continue-button" onclick="showNextSection(13, event)">Continue</div> 
    </section>

    <section id="section13">
        <p><strong>Key takeaways:</strong></p>
        <ul>
            <li>Gradient Descent is an iterative optimization algorithm used to minimize a cost function.</li>
            <li>The gradient indicates the direction of the steepest ascent, and we move in the opposite direction to descend.</li>
            <li>The learning rate controls the size of the steps we take during each iteration.</li>
        </ul>
        <div class="continue-button" onclick="showNextSection(14, event)">Continue</div>
    </section>

    <section id="section14">
        <p>Make sure you understand the core concepts and the update rule before moving on to the next lesson, where we'll apply Gradient Descent to Linear Regression.</p>
    </section>

    <script>
        // Show the first section initially
        document.getElementById("section1").style.display = "block";
        document.getElementById("section1").style.opacity = "1";

        function showNextSection(nextSectionId, event) {
            const currentButton = event.target;
            const nextSection = document.getElementById("section" + nextSectionId);

            currentButton.style.display = "none";

            nextSection.style.display = "block";
            setTimeout(() => {
                nextSection.style.opacity = "1";
            }, 10);

            setTimeout(() => {
                nextSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 500);
        }

        function revealAnswer(id, event) {
            const revealText = document.getElementById(id);
            const revealButton = event.target;

            revealText.style.display = "block";
            revealButton.style.display = "none";
        }
    </script>
</body>
</html>
